(function(){"use strict";var t={7881:function(t,n,i){var e=i(9242),o=i(3396);const l=(0,o._)("p",{class:"history-header"},"Your URls",-1),r={class:"table table-text-color center-table"},s={class:"row"},a={class:"col add-btn-center"};function u(t,n,i,e,u,c){const d=(0,o.up)("link-view"),h=(0,o.up)("virtual-link-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[l,(0,o._)("table",r,[(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(u.links,((t,n)=>((0,o.wg)(),(0,o.iD)("div",{key:n},[(0,o.Wm)(d,{id:n,url:t.original_link,"short-url":t.short_link,onOnDelete:c.removeItem,onOnOriginalChange:c.changeItem},null,8,["id","url","short-url","onOnDelete","onOnOriginalChange"])])))),128)),u.showVirtualLink?((0,o.wg)(),(0,o.j4)(h,{key:0,onOnEditEnd:c.addItem},null,8,["onOnEditEnd"])):(0,o.kq)("",!0)])]),(0,o._)("div",s,[(0,o._)("div",a,[(0,o._)("button",{type:"submit",class:"btn btn-outline-light rounded-pill",onClick:n[0]||(n[0]=(...t)=>c.onAdd&&c.onAdd(...t))},"Add")])])],64)}i(7658),i(2062);const c={class:"row"},d={class:"col"},h=(0,o._)("div",{class:"col",style:{"padding-left":"0%"}},[(0,o._)("div",{class:"url-list-group input-group",style:{"margin-left":"0%"}},[(0,o._)("input",{type:"text",class:"form-control",disabled:""}),(0,o._)("div",{class:"input-group-append"},[(0,o._)("button",{type:"button",class:"btn btn-default btn-copy js-tooltip js-copy shadow-none","data-toggle":"tooltip","data-placement":"bottom",title:"Copy to clipboard"},[(0,o._)("svg",{class:"icon",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,o._)("path",{d:"M17,9H7V7H17M17,13H7V11H17M14,17H7V15H14M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3M19,3H14.82C14.4,1.84 13.3,1 12,1C10.7,1 9.6,1.84 9.18,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3Z"})])])])])],-1);function p(t,n,i,e,l,r){return(0,o.wg)(),(0,o.iD)("div",c,[(0,o._)("div",d,[(0,o._)("input",{ref:"linkInput",type:"text",class:"form-control",onFocusout:n[0]||(n[0]=(...t)=>r.onFocusChange&&r.onFocusChange(...t))},null,544)]),h])}var f={name:"virtual-link-view",mounted(){const t=this.$refs.linkInput;t.focus()},methods:{onFocusChange(){this.$emit("on-edit-end",this.$refs.linkInput.value)}}},g=i(89);const v=(0,g.Z)(f,[["render",p]]);var k=v;const w={class:"row"},m={class:"col"},b=["value"],_={class:"col",style:{"padding-left":"0%"}},y={class:"url-list-group input-group",style:{"margin-left":"0%"}},A=["value"],x=(0,o._)("div",{class:"input-group-append"},[(0,o._)("button",{type:"button",class:"btn btn-default btn-copy js-tooltip js-copy shadow-none","data-toggle":"tooltip","data-placement":"bottom",title:"Copy to clipboard"},[(0,o._)("svg",{class:"icon",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,o._)("path",{d:"M17,9H7V7H17M17,13H7V11H17M14,17H7V15H14M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3M19,3H14.82C14.4,1.84 13.3,1 12,1C10.7,1 9.6,1.84 9.18,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3Z"})])])],-1),O={class:"col-auto"};function C(t,n,i,e,l,r){return(0,o.wg)(),(0,o.iD)("div",w,[(0,o._)("div",m,[(0,o._)("input",{id:"url",ref:"linkInput",type:"text",class:"form-control",value:i.url,onChange:n[0]||(n[0]=(...t)=>r.onLinkChange&&r.onLinkChange(...t))},null,40,b)]),(0,o._)("div",_,[(0,o._)("div",y,[(0,o._)("input",{id:"shortLink",type:"text",class:"form-control",disabled:"",value:i.shortUrl},null,8,A),x])]),(0,o._)("div",O,[(0,o._)("button",{type:"button",class:"btn btn-danger",onClick:n[1]||(n[1]=n=>t.$emit("on-delete",i.id))},"X")])])}var H={name:"link-view",props:["id","shortUrl","url"],methods:{onLinkChange(){const t=this.$refs.linkInput.value;""===t?this.$refs.linkInput.value=this.url:this.$emit("on-original-change",this.id,t)}}};const V=(0,g.Z)(H,[["render",C]]);var L=V,I=i(4161);const j=document.getElementById("csrfmiddlewaretoken"),M=j?j.value:"";I.Z.defaults.headers.common["X-CSRFTOKEN"]=M;var Z={name:"App",components:{VirtualLinkView:k,LinkView:L},data(){return{links:[],showVirtualLink:!1}},methods:{onAdd(){this.showVirtualLink=!0},addItem(t){if(""!==t){if(void 0===this.links.find((n=>n.original_link===t))){let n=this;I.Z.post("/createShort",{link:t}).then((i=>{console.log(i.data),n.links.push({id:i.data.id,original_link:t,short_link:window.location.host+"/"+i.data.short_link})}))}this.showVirtualLink=!1}else this.showVirtualLink=!1},changeItem(t,n){let i=this.links[t].id;I.Z.patch("/updateLink",{id:i,newText:n}),console.log(t+" "+n)},removeItem(t){let n=this.links[t].id;I.Z.delete("/deleteLink",{data:{id:n}}),this.links.splice(t,1)},validateUrl(t){try{return new URL(t),!0}catch(n){return!1}}},created(){let t=this;I.Z.get("/getAllLinksData").then((n=>{const i=JSON.parse(n.data);for(let e=0;e<i.length;e++){const n=i[e];t.links.push({id:n.pk,original_link:n.fields.original_link,short_link:window.location.host+"/"+n.fields.short_link})}}))}};const D=(0,g.Z)(Z,[["render",u]]);var E=D;(0,e.ri)(E).mount("#app")}},n={};function i(e){var o=n[e];if(void 0!==o)return o.exports;var l=n[e]={exports:{}};return t[e].call(l.exports,l,l.exports,i),l.exports}i.m=t,function(){var t=[];i.O=function(n,e,o,l){if(!e){var r=1/0;for(c=0;c<t.length;c++){e=t[c][0],o=t[c][1],l=t[c][2];for(var s=!0,a=0;a<e.length;a++)(!1&l||r>=l)&&Object.keys(i.O).every((function(t){return i.O[t](e[a])}))?e.splice(a--,1):(s=!1,l<r&&(r=l));if(s){t.splice(c--,1);var u=o();void 0!==u&&(n=u)}}return n}l=l||0;for(var c=t.length;c>0&&t[c-1][2]>l;c--)t[c]=t[c-1];t[c]=[e,o,l]}}(),function(){i.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(n,{a:n}),n}}(),function(){i.d=function(t,n){for(var e in n)i.o(n,e)&&!i.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){var t={143:0};i.O.j=function(n){return 0===t[n]};var n=function(n,e){var o,l,r=e[0],s=e[1],a=e[2],u=0;if(r.some((function(n){return 0!==t[n]}))){for(o in s)i.o(s,o)&&(i.m[o]=s[o]);if(a)var c=a(i)}for(n&&n(e);u<r.length;u++)l=r[u],i.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return i.O(c)},e=self["webpackChunk"]=self["webpackChunk"]||[];e.forEach(n.bind(null,0)),e.push=n.bind(null,e.push.bind(e))}();var e=i.O(void 0,[998],(function(){return i(7881)}));e=i.O(e)})();
//# sourceMappingURL=app.b7fda328.js.map